<html>
<head>
	<meta charset = "UTF-8">
	<title>Calculator</title>
	<style type="text/css">
	body{
		background-color: #a9d0df;
	}
	#calculator {
		margin: auto;
		height: 340px;
		width: 330px;
		background-color: #e0e0e0;
		border-radius: 7px;
	}
	#result {
		height: 60px;
		width: 100%;
		border-radius:8px;
		background-color: #ffce27;
		float: right;
		text-align: right;
		font-size: 30px;
	}

	#table {
		height: 340px;
		width: 330px;
		padding-bottom: 10px;
		padding-left: 10px;
		padding-right: 10px;
	}
	#table td {
		width: 25%;
	}
	.button {
		border: none;
		outline: none;
		height: 100%;
		width: 100%;
		border-radius:5px;
		background-color: #ffffff;
	}
	.button:hover {
		background-color: #F5F5DC;
	}
	</style>
</head>
<body>
	<div id = "calculator">
		<table id = "table">
			<tr>
				<td colspan="4" > 
					<input type = "text" value = "" readonly id = "result">
				</td>
			</tr>
			<tr>
				<td><input type="button" class="button" value="MC" onclick='memory("c")'></td>
	            <td><input type="button" class="button" value="M+" onclick='memory("+")'></td>
	            <td><input type="button" class="button" value="M-" onclick='memory("-")'></td>
	            <td><input type="button" class="button" value="MR" onclick='memory("r")'></td>
			</tr>
			<tr>
				<td><input type="button" class="button" value="C" onclick='clearDisplay()'></td>
				<td><input type="button" class="button" value='+/-' onclick='addKey("+/-")'></td>
				<td><input type="button" class="button" value="/" onclick='addOperator("/")'></td>
				<td><input type="button" class="button" value="x" onclick='addOperator("*")'></td>
			</tr>
			<tr>
				<td><input type="button" class="button" value="7" onclick='addKey("7")'></td>
				<td><input type="button" class="button" value="8" onclick='addKey("8")'></td>
				<td><input type="button" class="button" value="9" onclick='addKey("9")'></td>
				<td><input type="button" class="button" value="-" onclick='addOperator("-")'></td>
			</tr>
			<tr>
				<td><input type="button" class="button" value="4" onclick='addKey("4")'></td>
				<td><input type="button" class="button" value="5" onclick='addKey("5")'></td>
				<td><input type="button" class="button" value="6" onclick='addKey("6")'></td>
				<td><input type="button" class="button" value="+" onclick='addOperator("+")'></td>
			</tr>
			<tr>
				<td><input type="button" class="button" value="1" onclick='addKey("1")'></td>
				<td><input type="button" class="button" value="2" onclick='addKey("2")'></td>
				<td><input type="button" class="button" value="3" onclick='addKey("3")'></td>
				<td rowspan="2"><input type="button" class="button" value="=" onclick='compute()'></td>
			</tr>
			<tr>
				<td colspan="2"><input type="button" class="button" value="0" onclick='addKey("0")'></td>
				<td><input type="button" class="button" value="." onclick='addKey(".")'></td>
				
			</tr>
		</table>
	</div>
	<script type="text/javascript">
		var value1 = "";
		var value2 = ""
		var operator = "";
		var m = 0;
		var result = 0;
		window.onload = function(){
			document.getElementById("result").value = 0;
			
		}
		
		
		function addOperator(key){
			if(value1 != ""){
				operator = key;	
			}
		}
		function addKey(key){
			if(operator == ""){
				if(key == '.'){
					if(value1.indexOf(key) == -1){
						value1 += key;
					}
				} else if(key == "+/-"){
					value1 = eval("-1" * value1);
				}
				else{
					value1 += key;
				}
				document.getElementById("result").value = value1;
			}else{
				if(key == '.'){
					if(value2.indexOf(key) == -1){
						value2 += key;
					}
				}else if(key == "+/-"){
					value2 = eval("-1" * value2);
				}
				else{
					value2 += key;
				}
				document.getElementById("result").value = value2;
			}
		}
		function compute(){
			try {
				if(value1 != ""){
					result = eval(value1 + operator + value2);
					document.getElementById("result").value = result;
					value1 = "";
					value2 = "";
					operator = "";
				}
				
			}catch(compute){
				document.getElementById("result").value = "Có lỗi !";
			}
		}	
		function clearDisplay(){
			result = 0;
			value1 = "";
			value2 = "";
			document.getElementById("result").value = result;
		}
		function memory(act){
			num = document.getElementById("result").value
			switch (act) {
				case "+":
					m = eval(m + "+" + num);
					break;
				case "-":
					m = eval(m + "-" + num);
					break;
				case "r":
					document.getElementById("result").value = m;
					break;
				case "c":
					m = 0;
					document.getElementById("result").value = 0;
					break;
			}
			value1 = "";
		}
	</script>
</body>
</html>